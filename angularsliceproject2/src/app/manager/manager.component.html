<header>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  </header>
  
  <app-header></app-header>
  <br><br><br><br><br>

      <div>

        <mat-tab-group (selectedTabChange)="tabGroupDispatcher($event)">

            <mat-tab label="Food Analytics">
                <div class="chart-container" style="
                    position:relative; height:77vh ">
                    <canvas  style="color: white" #foodChart>{{ foodchart }} 
                    
                    <!-- [data]="doughnutChartData"
                    [labels]="doughnutChartLabels"
                    [chartType]="doughnutChartType"> -->
                    </canvas>
                  </div>
            
            
                  
            </mat-tab>
            <mat-tab label="Customer's Purchase Analytics">
                
            
                <div class="chart-container" style="
                position:relative; height:77vh ">
                    <canvas #customerpurchasechart>{{ customerpurchasechart }} 
                    style="color: white;"
                    <!-- [data]="doughnutChartData"
                    [labels]="doughnutChartLabels"
                    [chartType]="doughnutChartType"> -->
                    </canvas>
                  </div>
                   
            </mat-tab>
            <mat-tab label="Customer's Purchase History"> 


<div id="whole">
    <div id="segment">
        <mat-accordion class="example-headers-align" *ngFor="let customer of getKeys(customersmap); index as i" >
            <!--Deals panel-->
            <mat-expansion-panel [expanded]="false" (opened)="setStep(i)" id = "{{'panel' + i}}"
            (afterExpand)="opencustomerpanel(i)" hideToggle>
                <!-- Header for this panel -->
                <mat-expansion-panel-header>
                    <mat-panel-title>Username: {{customer}}</mat-panel-title>
                    <mat-panel-description>Name: {{customers[i].fname}} {{customers[i].lname}} </mat-panel-description>
                </mat-expansion-panel-header>

                <div class="holder" >
                    <!-- initial card -->
                    <mat-card *ngFor = "let bills of allpreviouscurrentcustomerbills">
                        <mat-card-title>{{bills.orderDate}}</mat-card-title>
                        <span style="float:left;width: 25%;">
                            <!-- <img src={{fooditem.url}}> -->
                        </span>

                        <div style="min-width: 60%; height: 80%;" *ngFor = "let bills of allbillfoodamountscurrentcustomer">
                            <h3 style="float: left; width: 30%;">  </h3>
                            <h3 style="float: right; width: 30%; text-align: right;"></h3>
                          </div>
                    </mat-card>
                </div>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
</div>



















            </mat-tab>
            <mat-tab label="Create Food item"> 
              <app-confirmationbox (myEvent)="emittedValueDialogBox($event)" [showcancel] = "'true'" [accept]="'Accept'" [cancel]="'Cancel'" [title]="'title'" [content]="'content'"></app-confirmationbox>
            </mat-tab>
          </mat-tab-group>
  
      </div>

      <br><br><br>

      <app-footer></app-footer>